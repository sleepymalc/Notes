\lecture{10}{26 Jan. 11:00}{Integration}
\section{Integration}\label{sec:Integration}
\subsection{Measurable Function}
We start with a definition.

\begin{definition}[Measurable function]\label{def:measurable-function}
	Suppose \((X, \mathcal{A} ), (Y, \mathcal{B} )\) are \hyperref[def:measurable-space]{measurable spaces}. Then we say \(f\colon X\to Y\) is
	\emph{\((\mathcal{A} , \mathcal{B} )\)-measurable} if
	\[
		\underset{B\in \mathcal{B}}{\forall}\ f^{-1} (B)\in \mathcal{A}.
	\]
\end{definition}

\begin{remark}
	If \(\mathcal{\MakeUppercase{a}} \) and \(\mathcal{\MakeUppercase{b}} \) are given, we'll sometimes say \(f\) is \hyperref[def:measurable-function]{measurable}
	if it'll not cause any confusions.
\end{remark}

\begin{lemma}\label{lma:lec10-1}
	Given two \hyperref[def:measurable-space]{measurable spaces} \((X, \mathcal{\MakeUppercase{a}} )\) and \((Y, \mathcal{\MakeUppercase{b}} )\), and suppose
	\(\mathcal{B} = \left< \mathcal{E}  \right> \) for some \(\mathcal{\MakeUppercase{e}} \subset Y\). Then,
	\[
		f\colon X\to Y \text{ is \hyperref[def:measurable-function]{\((\mathcal{A} , \mathcal{B})\)-measurable}}\iff \underset{E\in\mathcal{E}}{\forall}\ f^{-1} (E)\in \mathcal{A}.
	\]
\end{lemma}
\begin{proof}
	We see that the \emph{only if} part \((\implies )\) is clear. On the other direction, we consider the following. Let
	\(\mathcal{D} = \{E\subset Y \mid f^{-1} (E)\in \mathcal{A} \}\), then
	\begin{itemize}
		\item \(\mathcal{\MakeUppercase{e}} \subset \mathcal{D} \) by assumption
		\item \(\mathcal{D} \) is a \hyperref[def:sigma-algebra]{\(\sigma\)-algebra} \todo{Check!}
	\end{itemize}
	hence, we see that \(\left< \mathcal{E} \right> = \mathcal{\MakeUppercase{b}} \subset \mathcal{D} \) from \autoref{lma:lec2-1}. The result then
	follows from the definition of \hyperref[def:measurable-function]{\((\mathcal{A} , \mathcal{B} )\)-measurable}.
\end{proof}
\begin{note}
	Recall that
	\begin{itemize}
		\item \(f^{-1} (E^{c} ) = f^{-1} (E)^{c} \)
		\item \(f^{-1} \left(\bigcup\limits_{\alpha} E_{\alpha }\right) = \bigcup\limits_{\alpha} f^{-1} (E_{\alpha })\)
	\end{itemize}
\end{note}

\begin{definition}[\(\mathcal{\MakeUppercase{a}}\)-measurable]\label{def:A-measurable-function}
	Let \((X, \mathcal{A} )\) be a \hyperref[def:measurable-space]{measurable space}. Then,
	\[
		\begin{rcases}
			f \colon X\to \mathbb{\MakeUppercase{r}}            \\
			f \colon X\to \overline{\mathbb{\MakeUppercase{r}}} \\
			f \colon X\to \mathbb{\MakeUppercase{c}}
		\end{rcases} \text{ is \emph{\(\mathcal{A}\)-measurable} if } \begin{dcases}
			f             \text{ is } \hyperref[def:measurable-function]{(\mathcal{A} , \mathcal{B} (\mathbb{\MakeUppercase{r}} ))\text{-measurable}}           \\
			f             \text{ is } \hyperref[def:measurable-function]{(\mathcal{A} , \mathcal{B} (\overline{\mathbb{\MakeUppercase{r}}}))\text{-measurable}} \\
			\Re f, \Im  f  \colon X\to \mathbb{\MakeUppercase{r}} \text{ are }\hyperref[def:A-measurable-function]{\mathcal{A} \text{-measurable}}.
		\end{dcases}
	\]
\end{definition}
\begin{notation}
	Notice that
	\begin{itemize}
		\item \(\overline{\mathbb{\MakeUppercase{r}} } = [-\infty , \infty ]\)
		\item \(\mathcal{\MakeUppercase{b}} (\overline{\mathbb{\MakeUppercase{r}}}) = \left\{E\subset \overline{\mathbb{\MakeUppercase{r}} } \mid E\cap \mathbb{\MakeUppercase{r}} \in \mathcal{\MakeUppercase{b}} (\mathbb{\MakeUppercase{r}} )\right\}\).
		\item \(\Re f\) is the real part of \(f\), while \(\Im f\) is the imaginary part of \(f\).
	\end{itemize}
\end{notation}

\begin{eg}
	We see that
	\begin{itemize}
		\item \(\mathcal{A} =\mathcal{P} (X) \implies \) Every function is \hyperref[def:A-measurable-function]{\(\mathcal{A}\)-measurable}.
		\item \(\mathcal{A} = \{\varnothing , X\}\implies \) The only \hyperref[def:A-measurable-function]{\(\mathcal{A} \)-measurable functions} are constant functions.
	\end{itemize}
\end{eg}

\begin{definition}[Lebesgue measurable]\label{def:Lebesgue-measurable-function}
	A \emph{Lebesgue measurable function} \(f\) is a \hyperref[def:measurable-function]{measurable} function
	\[
		f\colon (\mathbb{\MakeUppercase{r}} , \mathcal{\MakeUppercase{l}} ) \to (\mathbb{\MakeUppercase{c}} , \mathcal{\MakeUppercase{b}} (\mathbb{\MakeUppercase{c}})).
	\]
\end{definition}

\begin{lemma}\label{lma:lec10-2}
	Given \(f\colon X\to \mathbb{\MakeUppercase{r}} \), \emph{TFAE}.
	\begin{enumerate}
		\item \(f\) is \hyperref[def:A-measurable-function]{\(\mathcal{A}\)-measurable}
		\item \(\forall a\in\mathbb{\MakeUppercase{r}} \), \(f^{-1} ((a, \infty ))\in\mathcal{A} \)
		\item \(\forall a\in\mathbb{\MakeUppercase{r}} \), \(f^{-1} ([a, \infty ))\in\mathcal{A} \)
		\item \(\forall a\in\mathbb{\MakeUppercase{r}} \), \(f^{-1} ((-\infty, a))\in\mathcal{A} \)
		\item \(\forall a\in\mathbb{\MakeUppercase{r}} \), \(f^{-1} ((-\infty, a])\in\mathcal{A} \)
	\end{enumerate}
\end{lemma}
\begin{proof}
	The result follows from \autoref{lma:lec10-1} we just saw.
\end{proof}

\begin{remark}[Operations preserve \(\mathcal{A}\)-measurability]\label{rmk:Operations-preserve-measurability}
	Given \(f, g\colon X\to \mathbb{\MakeUppercase{r}} \) and is \hyperref[def:A-measurable-function]{\(\mathcal{A}\)-measurable}, then
	\begin{enumerate}
		\item \(\phi \colon \mathbb{\MakeUppercase{r}} \to \mathbb{\MakeUppercase{r}} \), \hyperref[def:A-measurable-function]{\(\mathcal{A}\)-measurable}\footnote{\label{def:Borel-measurable}In this case, we also call it \emph{Borel measurable}.}, then
		      \[
			      \phi \circ f\colon X\to \mathbb{\MakeUppercase{r}}
		      \]
		      is \hyperref[def:A-measurable-function]{\(\mathcal{A}\)-measurable}.
		\item \(-f,\ 3f,\ f^2,\ \left\vert f \right\vert \) are all \hyperref[def:A-measurable-function]{\(\mathcal{A} \)-measurable}, and \(\frac{1}{f}\) is
		      \hyperref[def:A-measurable-function]{\(\mathcal{A}\)-measurable} if \(f(x)\neq 0, \forall x\in X\).
		\item \(f+g\) is \hyperref[def:A-measurable-function]{\(\mathcal{A}\)-measurable}. We see this from
		      \[
			      (f+g)^{-1} ((a, \infty ))=\bigcup\limits_{r\in\mathbb{\MakeUppercase{q}}} \left(f^{-1} ((r, \infty ))\cap g^{-1} ((a-r, \infty ))\right)
		      \]
		      with \autoref{lma:lec10-2}.
		\item \(f\cdot g\) is \hyperref[def:A-measurable-function]{\(\mathcal{A}\)-measurable}. We see this from
		      \[
			      f(x)g(x) = \frac{1}{2}\left((f(x)+g(x))^2 - f(x)^2 - g(x)^2\right).
		      \]
		\item We see that
		      \[
			      (f\vee g)(x)\coloneqq \max \{f(x), g(x)\}\text{ and }(f\wedge g)(x)\coloneqq \min\{f(x), g(x)\}
		      \]
		      are \hyperref[def:A-measurable-function]{\(\mathcal{A}\)-measurable}.
		\item Let \(f_{n}\colon X\to \overline{\mathbb{\MakeUppercase{r}} }\) be \hyperref[def:A-measurable-function]{\(\mathcal{A}\)-measurable}. Then
		      \[
			      \sup\limits_{n\in\mathbb{\MakeUppercase{n}} } f_{n},\ \inf\limits_{n\in\mathbb{\MakeUppercase{n}} } f_{n},\ \limsup\limits_{n\to \infty} f_{n},\ \liminf\limits_{n\to \infty} f_{n}
		      \]
		      are \hyperref[def:A-measurable-function]{\(\mathcal{A}\)-measurable}.
		      \begin{proof}
			      Consider \(\sup\limits_{n\in\mathbb{\MakeUppercase{n}} } f_{n} \eqqcolon g\), then
			      \[
				      g^{-1} ((a, \infty ]) = \bigcup\limits_{n\in\mathbb{\MakeUppercase{n}}} f_{n}^{-1} ((a, \infty ])
			      \]\todo{check}
			      for \(\sup\limits_n f_{n}(x) = g(x)>a\). A similar argument can prove the case of \(\inf\limits_{n\in\mathbb{\MakeUppercase{n}} } f_{n}\).

			      \par And notice that \(\limsup\limits_{n\to \infty} f_{n} = \inf\limits_{k\in\mathbb{\MakeUppercase{n}}} \sup\limits_{n\geq k} f_{n}\), then the
			      similar argument also proves this case.
		      \end{proof}
		\item If \(\lim\limits_{n \to \infty} f_{n}(x)\) converges for every \(x\in X\), then \(f\) is \hyperref[def:A-measurable-function]{\(\mathcal{A} \)-measurable}.
		\item If \(f\colon \mathbb{\MakeUppercase{r}} \to \mathbb{\MakeUppercase{r}} \) is continuous
		      \begin{itemize}
			      \item[\(\implies\)] \(f\) is \hyperref[def:Borel-measurable]{Borel measurable}
			      \item[\(\implies\)] \(f\) is \hyperref[def:Lebesgue-measurable-function]{Lebesgue measurable}
		      \end{itemize}
		      since the preimage of an open set of a continuous function is open, then we consider \(f^{-1} ((a, \infty ))\).
	\end{enumerate}
\end{remark}

\begin{definition}[Support]\label{def:support}
	The \emph{support} of function \(f\colon X\to \overline{\mathbb{\MakeUppercase{r}} }\) is
	\[
		\mathrm{supp} f \coloneqq \{x\in X \mid f(x)\neq 0\}.
	\]
\end{definition}

\begin{definition}[Positive and Negative part]\label{def:positive-part}\label{def:negative-part}
	For \(f\colon X\to \overline{\mathbb{\MakeUppercase{r}} }\), let \(f^+ \coloneqq f\vee 0\) and \(f^-\coloneqq (-f)\vee 0\),\footnote{i.e., \(f^+(x) = \max\{f(x), 0\},\quad f^-(x) = \max\{-f(x), 0\}\)}
	where we call \(f^+\) the \emph{positive part} of \(f\) while \(f^-\) the \emph{negative part} of \(f\).
\end{definition}
\begin{remark}
	If \(\mathrm{supp} \hyperref[def:positive-part]{f^+} \cap  \mathrm{supp} \hyperref[def:negative-part]{f^-} = \varnothing \) and \(f(x) = \hyperref[def:positive-part]{f^+}(x) - \hyperref[def:negative-part]{f^-}(x)\), then
	\[
		f\text{ is }\hyperref[def:A-measurable-function]{\mathcal{A}\text{-measurable}} \iff \hyperref[def:positive-part]{f^+}, \hyperref[def:negative-part]{f^-} \text{ are \hyperref[def:A-measurable-function]{\(\mathcal{\MakeUppercase{a}} \)-measurable}}.
	\]
\end{remark}

\begin{definition}[Characteristic (Indicator) function]\label{def:characteristic-function}
	For \(E\subset X\), the \emph{characteristic (indicator) function} of \(E\) is
	\[
		\mathcal{X} _E (x)= \mathbbm{1}_{E}(x) = \begin{dcases}
			1, & \text{ if }  x\in E;     \\
			0, & \text{ if }  x\in E^{c}.
		\end{dcases}
	\]
\end{definition}
\begin{remark}
	We see that \(\mathbbm{1}_{ E}\) is \hyperref[def:A-measurable-function]{\(\mathcal{A}\)-measurable} \(\iff E\in\mathcal{A}\).
\end{remark}

\begin{definition}[Simple function]\label{def:simple-function}
	Let \((X, \mathcal{A} )\) be a \hyperref[def:measurable-space]{measurable space}. Then a \emph{simple function} \(\phi \colon X\to \mathbb{\MakeUppercase{c}} \) that
	is \hyperref[def:A-measurable-function]{\(\mathcal{A} \)-measurable} and takes only \underline{finitely many values}.
\end{definition}
\begin{remark}
	We see that if
	\[
		\phi (X) = \{c_1, \ldots , c_N \},
	\]
	then
	\[
		E_{i}= \phi ^{-1} (\{c_{i}\})\in \mathcal{A} \implies \phi = \sum\limits_{i=1}^{N} \underbrace{c_{i}}_{\neq \pm \infty }\mathbbm{1}_{\underbrace{E_{i}}_{\in \mathcal{A}}}.
	\]
\end{remark}